<div class="donation-page-wrapper">
    <div class="donation-wrapper">
        <!-- Donation Container -->
        <div class="donation-container">
            <h1 class="donation-heading">Sisterhood Foundation</h1>
            <div class="donation-content">
                <p>
                    <strong>Help a sister in need</strong> by donating a <span class="highlight">lifesaving procedure</span> or treatment she cannot afford.
                    You can choose to support a specific case or make a general donation, and we’ll ensure the funds are used where they are needed most.
                </p>
                <p>
                    <strong>Together, we can lift each other up, create hope, and change lives.</strong>
                </p>
                <a href="#" class="donate-btn">Donate Now</a>
            </div>
        </div>

        <!-- Donation Modal -->
        <div id="donationModal" class="modal-overlay" style="display:none;">
            <div class="modal-content">
                <h2 class="modal-title">Make a Difference</h2>
                <p>Select your donation amount:</p>

                <p><span id="donationValueDisplay">R0</span></p>
                <div class="donation-buttons">
                    <button class="donation-quick-btn" data-amount="10">R10</button>
                    <button class="donation-quick-btn" data-amount="20">R20</button>
                    <button class="donation-quick-btn" data-amount="50">R50</button>
                </div>

                <p>Or enter your own amount:</p>
                <input type="number" id="customDonationInput" min="0" value="0" step="1" style="width: 100%; padding: 0.5rem; font-size: 1.1rem; margin-bottom: 1rem;">

                <p id="donationGuidance" style="color: #FF69B4; font-weight: bold;">
                    Donate <strong>R10</strong> or more to receive <strong>1 ebook</strong>.
                    Donate <strong>R20+</strong> to receive <strong>both ebooks</strong>!
                </p>

                <div id="bookChoiceSection">
                    <p id="bookChoiceText" style="text-align:center; font-weight:bold; color:#FF69B4;">Choose your book:</p>
                    <div id="bookChoice" class="book-choice">
                        <label class="book-item">
                            <input type="radio" name="book" value="1" checked>
                            <img src="/images/Becoming-You-Cover.jpg" alt="Becoming You" class="book-cover clickable" data-full="/images/Becoming-You-Cover.jpg">
                            <p>Becoming You</p>
                            <button type="button" class="select-btn">Select</button>
                        </label>
                        <label class="book-item">
                            <input type="radio" name="book" value="2">
                            <img src="/images/A-Period-Pocket-guide-cover.jpg" alt="A Period Pocket Guide" class="book-cover clickable" data-full="/images/A-Period-Pocket-guide-cover.jpg">
                            <p>A Period Pocket Guide</p>
                            <button type="button" class="select-btn">Select</button>
                        </label>
                    </div>
                </div>

                <div id="bothBooksMessage" style="display:none; color: #FF69B4; font-weight:bold; margin-top:1rem;">
                    Thank you! You'll receive BOTH ebooks!
                </div>

                <div class="modal-actions">
                    <button id="confirmDonation" class="modal-btn">Donate Now</button>
                    <button id="cancelDonation" class="modal-btn cancel">Cancel</button>
                </div>

                <!-- Embedded Direct Bank Donation Section mobile friendly -->
                <section class="bank-donation-section inside-modal">
                    <div class="bank-donation-container">
                        <h3>Prefer A Direct Donation?</h3>
                        <p>
                            <strong>Donate through bank channels!</strong><br />
                            Simply <a href="/ContactUs">contact us</a> and we’ll send you our exclusive eBooks as a thank-you for your support.
                        </p>
                        <p>
                            <strong>Account Name:</strong> IMBALI EMPOWERMENT<br />
                            <strong>Bank:</strong> STANDARD BANK<br />
                            <strong>Account Number:</strong> 10 247 942 187<br />
                            <strong>Branch:</strong> JOHANNESBURG <br />
                            <strong>Branch Code:</strong> 000 205 <br />
                            <strong>Reference:</strong> Your Name
                        </p>
                    </div>
                </section>
            </div>
        </div>

        <!-- Hidden PayFast Donation Form -->
        <form id="payfast-donation-form" action="https://www.payfast.co.za/eng/process" method="post" style="display:none;">
            <input type="hidden" name="merchant_id" value="29708837">
            <input type="hidden" name="merchant_key" value="invu4da2ffkjm">
            <input type="hidden" name="return_url" value="https://imbali.co.za/Donation/ThankYou">
            <input type="hidden" name="cancel_url" value="https://imbali.co.za/Donation/Index">
            <input type="hidden" name="notify_url" value="https://imbali.co.za/notify.php">
            <input type="hidden" name="m_payment_id" value="donation-001">
            <input type="hidden" name="item_name" value="Sisterhood Donation">
            <input type="hidden" name="item_description" value="Thank you for supporting a sister in need.">
            <input type="hidden" name="payment_type" value="Donation">
            <input type="hidden" id="donation-amount-input" name="amount" value="10.00">
            <input type="hidden" id="book-selection" name="custom_book" value="1">
        </form>
    </div>
</div>

<style>
    html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        box-sizing: border-box;
        font-family: 'Mulish', sans-serif;
        background: #FFE4C4;
    }


    .donation-container {
        max-width: 900px;
        margin: 0 auto;
        text-align: center;
        padding-bottom: 3rem;
        position: relative;
        z-index: 1;
    }

    .donation-heading {
        font-family: 'Lora', serif;
        font-size: 5rem;
        background: linear-gradient(45deg, #FF8A65, #FF69B4);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 2px 2px 6px rgba(255, 182, 193, 0.6);
        margin-bottom: 2rem;
        letter-spacing: 2px;
        font-weight: 900;
        position: relative;
        display: inline-block;
    }

        .donation-heading::after {
            content: "✿";
            font-size: 2rem;
            position: absolute;
            bottom: -1.5rem;
            left: 50%;
            transform: translateX(-50%);
            color: #FF8A65;
            text-shadow: 0 0 10px rgba(255, 182, 193, 0.5);
        }

    .donation-content {
        background: rgba(255, 255, 255, 0.6);
        padding: 2.5rem;
        border-radius: 20px;
        box-shadow: 0 6px 20px rgba(255, 175, 120, 0.3);
        font-size: 1.5rem;
        line-height: 2;
        color: #4A4A4A;
        position: relative;
    }

        .donation-content .highlight {
            color: #FF8C42;
            font-weight: 700;
        }

        .donation-content strong {
            color: #FFA07A;
        }

        .donation-content::after {
            content: "";
            position: absolute;
            bottom: -20px;
            right: -20px;
            font-size: 5rem;
            opacity: 0.2;
        }

    .donate-btn {
        display: inline-block;
        margin-top: 2rem;
        background: #FF8C42;
        color: white;
        padding: 1rem 2.5rem;
        border-radius: 50px;
        font-weight: bold;
        font-size: 1.4rem;
        text-decoration: none;
        box-shadow: 0 5px 15px rgba(255, 140, 66, 0.4);
        transition: background 0.3s ease, transform 0.2s ease;
    }

        .donate-btn:hover {
            background: #FF7043;
            transform: scale(1.1);
        }

    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(255, 228, 225, 0.85);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        backdrop-filter: blur(3px);
    }

    .modal-content {
        background: #FFF8F0;
        border: 2px solid #FFB6C1;
        border-radius: 20px;
        padding: 1.5rem 2rem;
        max-width: 400px;
        max-height: 90vh; 
        overflow-y: auto; 
        text-align: center;
        box-shadow: 0 8px 20px rgba(255, 182, 193, 0.3);
        font-family: 'Mulish', sans-serif;
        animation: fadeIn 0.5s ease;
    }


    .modal-title {
        font-family: 'Lora', serif;
        font-size: 2rem;
        color: #FF69B4;
        margin-bottom: 1rem;
    }

    .modal-content input[type="number"] {
        width: 100%;
        padding: 0.8rem 1rem;
        margin-top: 1rem;
        margin-bottom: 1.5rem;
        border: 1px solid #FFDAB9;
        border-radius: 10px;
        font-size: 1.2rem;
        background: #FFF5EE;
        color: #4A4A4A;
        box-shadow: inset 0 1px 3px rgba(255, 182, 193, 0.2);
    }

    .modal-actions {
        display: flex;
        justify-content: space-between;
        gap: 1rem;
    }

    .modal-btn {
        flex: 1;
        padding: 0.8rem 1rem;
        border: none;
        border-radius: 50px;
        font-size: 1.1rem;
        font-weight: bold;
        cursor: pointer;
        background: #FF8C42;
        color: white;
        box-shadow: 0 4px 12px rgba(255, 140, 66, 0.3);
        transition: background 0.3s ease, transform 0.2s ease;
    }

        .modal-btn:hover {
            background: #FF7043;
            transform: scale(1.05);
        }

        .modal-btn.cancel {
            background: #FFB6C1;
            color: #fff;
        }

            .modal-btn.cancel:hover {
                background: #FF99AA;
            }

    #donationValueDisplay {
        font-size: 1.5rem;
        font-weight: bold;
        color: #FF69B4;
    }

    .donation-buttons {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin: 1rem 0;
    }

    .donation-quick-btn {
        padding: 0.5rem 1.5rem;
        background: #FF8C42;
        border: none;
        border-radius: 30px;
        color: white;
        font-weight: bold;
        cursor: pointer;
        transition: background 0.3s ease, transform 0.2s ease;
    }

        .donation-quick-btn:hover {
            background: #FF7043;
            transform: scale(1.05);
        }

    .book-choice {
        display: flex;
        justify-content: center;
        gap: 2rem;
        align-items: flex-start; 
        flex-wrap: wrap;
        margin: 1rem 0;
    }

    .book-item {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: center;
        width: 140px; 
        min-height: 280px; 
        text-align: center;
    }

    @@media (max-width: 768px) {
        .book-choice

    {
        flex-direction: column;
        align-items: center;
    }

    }


        .book-choice label {
            font-size: 1.1rem;
            color: #4A4A4A;
            text-align: center;
            cursor: pointer;
            margin: 0.5rem;
        }

        .book-choice input {
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }

    .book-display {
        display: flex;
        justify-content: center;
        gap: 2rem;
        margin: 1rem 0;
        flex-wrap: wrap;
    }

    .book-item {
        text-align: center;
        flex: 0 1 120px;
    }

    .book-cover {
        width: 100px;
        height: auto;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        display: block;
        margin-bottom: 0.5rem;
        cursor: pointer;
        transition: transform 0.3s ease;
    }

        .book-cover:hover {
            transform: scale(1.05);
        }

    .book-item input[type="radio"] {
        display: none; 
    }

    .book-item .book-cover {
        transition: box-shadow 0.3s ease, transform 0.3s ease;
    }

    .book-item input[type="radio"]:checked + .book-cover {
        box-shadow: 0 0 15px 4px #FF69B4; 
        transform: scale(1.05);
    }

    #enlargeModal {
        display: flex;
        position: fixed;
        z-index: 10000;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.8);
        justify-content: center;
        align-items: center;
    }

        #enlargeModal img {
            max-width: 80%;
            max-height: 80%;
            border-radius: 10px;
        }

    @@keyframes fadeIn {
        from {
            opacity: 0;
            transform: scale(0.9);
        }

        to {
            opacity: 1;
            transform: scale(1);
        }
    }

    @@media (max-width: 768px) {
        .donation-wrapper {
            padding: 3rem 1rem 10rem;
        }

        .donation-container {
            padding-bottom: 5rem;
        }

        .donation-heading {
            font-size: 3rem;
        }

        .donation-content {
            font-size: 1.2rem;
            padding: 1.5rem;
        }

        .donate-btn {
            font-size: 1rem;
            padding: 0.8rem 1.5rem;
        }
    }

    .select-btn {
        background: #FF8C42;
        color: white;
        border: none;
        border-radius: 20px;
        padding: 0.4rem 1.2rem;
        font-size: 0.9rem;
        font-weight: bold;
        cursor: pointer;
        margin-top: auto; 
        transition: background 0.3s ease;
    }
     


        .select-btn:hover {
            background: #FF7043;
        }

    .enlarge-close-btn {
        position: absolute;
        top: 20px;
        right: 30px;
        background: #FF8C42;
        color: white;
        border: none;
        font-size: 1.5rem;
        border-radius: 50%;
        width: 35px;
        height: 35px;
        cursor: pointer;
        z-index: 10001;
    }

    .glow {
        box-shadow: 0 0 15px 4px #FF69B4 !important;
        transform: scale(1.05);
    }

    .bank-donation-section {
        background: #fdf6f9;
        border-top: 2px solid #e4bbdc;
        border-bottom: 2px solid #e4bbdc;
        padding: 2rem 1rem;
        margin-top: 2rem;
        text-align: center;
        padding-bottom: 6rem;
    }

    .bank-donation-container {
        max-width: 700px;
        margin: 0 auto;
        font-family: 'Mulish', sans-serif;
        color: #5C5470;
    }

        .bank-donation-container h3 {
            font-size: 1.8rem;
            color: #7a4e7a;
            margin-bottom: 1rem;
        }

        .bank-donation-container a {
            color: #c0392b;
            text-decoration: underline;
        }

</style>


<script>
    const donateBtn = document.querySelector('.donate-btn');
    const modal = document.getElementById('donationModal');
    const confirmBtn = document.getElementById('confirmDonation');
    const cancelBtn = document.getElementById('cancelDonation');
    const donationInput = document.getElementById('customDonationInput');
    const donationValueDisplay = document.getElementById('donationValueDisplay');
    const bookChoiceSection = document.getElementById('bookChoiceSection');
    const bothBooksMessage = document.getElementById('bothBooksMessage');
    const donationGuidance = document.getElementById('donationGuidance');

    donateBtn.addEventListener('click', function (e) {
        e.preventDefault();
        modal.style.display = 'flex';
    });

    cancelBtn.addEventListener('click', function () {
        modal.style.display = 'none';
        confirmBtn.textContent = "Donate Now";
        confirmBtn.disabled = false;
    });

    document.querySelectorAll('.donation-quick-btn').forEach(btn => {
        btn.addEventListener('click', function () {
            updateDonationAmount(this.dataset.amount);
        });
    });

          function updateDonationAmount(value) {
        value = parseFloat(value);
        donationValueDisplay.textContent = "R" + value;
        donationInput.value = value;

        if (value >= 20) {
            bookChoiceSection.style.display = 'block';
            bothBooksMessage.style.display = 'block';
            donationGuidance.style.display = 'none';

            document.querySelectorAll('.book-item input[type="radio"]').forEach(radio => {
                radio.checked = false;
            });

            document.querySelectorAll('.book-cover').forEach(img => {
                img.classList.add('glow');
            });

            document.querySelectorAll('.select-btn').forEach(btn => {
                btn.style.display = 'none';
            });

        } else if (value >= 10) {
            bookChoiceSection.style.display = 'block';
            bothBooksMessage.style.display = 'none';
            donationGuidance.style.display = 'block';
            donationGuidance.textContent = "🌷 Donate R10 or more to receive one ebook.";


            document.querySelectorAll('.book-cover').forEach(img => {
                img.classList.remove('glow');
            });

            document.querySelectorAll('.select-btn').forEach(btn => {
                btn.style.display = 'inline-block';
            });

        } else {
            bookChoiceSection.style.display = 'none';
            bothBooksMessage.style.display = 'none';
            donationGuidance.style.display = 'block';
            donationGuidance.textContent = "🌸 Donate R10 or more for an ebook!";

            document.querySelectorAll('.book-cover').forEach(img => {
                img.classList.remove('glow');
            });

            document.querySelectorAll('.select-btn').forEach(btn => {
                btn.style.display = 'inline-block';
            });
        }
    }

    donationInput.addEventListener('input', function () {
        updateDonationAmount(this.value);
    });

    document.querySelectorAll('.donation-quick-btn').forEach(btn => {
        btn.addEventListener('click', function () {
            updateDonationAmount(this.dataset.amount);
        });
    });

    confirmBtn.addEventListener('click', function () {
        let amount = parseFloat(donationInput.value);
        if (isNaN(amount) || amount < 10) {
            alert("Please enter a minimum donation of R10.");
            return;
        }

        confirmBtn.textContent = "Processing...";
        confirmBtn.disabled = true;

        document.getElementById('donation-amount-input').value = amount.toFixed(2);

        if (amount >= 20) {
            document.getElementById('book-selection').value = "both";
        } else {
            let selectedBook = document.querySelector('input[name="book"]:checked').value;
            document.getElementById('book-selection').value = selectedBook;
        }

        setTimeout(() => {
            document.getElementById('payfast-donation-form').submit();
        }, 800);
    });

    updateDonationAmount(0);

    // Clickable Book Covers - Enlarge with Close Button
    document.querySelectorAll('.clickable').forEach(img => {
        img.addEventListener('click', function () {
            const src = this.getAttribute('data-full');
            const enlargeModal = document.createElement('div');
            enlargeModal.id = 'enlargeModal';
            enlargeModal.style.display = 'flex';
            enlargeModal.style.position = 'fixed';
            enlargeModal.style.left = '0';
            enlargeModal.style.top = '0';
            enlargeModal.style.width = '100%';
            enlargeModal.style.height = '100%';
            enlargeModal.style.background = 'rgba(0,0,0,0.8)';
            enlargeModal.style.zIndex = '10000';
            enlargeModal.style.justifyContent = 'center';
            enlargeModal.style.alignItems = 'center';
            enlargeModal.innerHTML = `
                <button class="enlarge-close-btn">&times;</button>
                <img src="${src}" alt="Enlarged Cover" style="max-width:80%; max-height:80%; border-radius:10px;">
            `;
            document.body.appendChild(enlargeModal);

            // Close button logic
            enlargeModal.querySelector('.enlarge-close-btn').addEventListener('click', () => {
                document.body.removeChild(enlargeModal);
            });
        });
    });

    // Select button logic
    document.querySelectorAll('.select-btn').forEach(btn => {
        btn.addEventListener('click', function () {
            const radio = this.closest('label').querySelector('input[type="radio"]');
            radio.checked = true;
            radio.dispatchEvent(new Event('change'));
        });
    });

</script>
